var cov_184uwy7ept=function(){var path='/Users/e0c009o/workspace/gateway-api/services.js',hash='38b73bedd8f1c33a9336fc758d2baa8348ead4d9',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/e0c009o/workspace/gateway-api/services.js',statementMap:{'0':{start:{line:1,column:14},end:{line:1,column:32}},'1':{start:{line:2,column:11},end:{line:2,column:26}},'2':{start:{line:3,column:16},end:{line:3,column:42}},'3':{start:{line:4,column:20},end:{line:4,column:44}},'4':{start:{line:5,column:9},end:{line:5,column:22}},'5':{start:{line:6,column:12},end:{line:6,column:30}},'6':{start:{line:10,column:0},end:{line:145,column:2}},'7':{start:{line:11,column:19},end:{line:11,column:34}},'8':{start:{line:12,column:22},end:{line:12,column:36}},'9':{start:{line:14,column:15},end:{line:14,column:51}},'10':{start:{line:15,column:22},end:{line:15,column:46}},'11':{start:{line:16,column:18},end:{line:16,column:42}},'12':{start:{line:17,column:18},end:{line:17,column:50}},'13':{start:{line:18,column:16},end:{line:18,column:44}},'14':{start:{line:19,column:20},end:{line:19,column:41}},'15':{start:{line:21,column:4},end:{line:144,column:5}},'16':{start:{line:22,column:8},end:{line:22,column:41}},'17':{start:{line:23,column:22},end:{line:23,column:136}},'18':{start:{line:24,column:23},end:{line:24,column:169}},'19':{start:{line:25,column:8},end:{line:25,column:43}},'20':{start:{line:26,column:8},end:{line:26,column:44}},'21':{start:{line:27,column:8},end:{line:120,column:15}},'22':{start:{line:38,column:16},end:{line:38,column:47}},'23':{start:{line:39,column:27},end:{line:39,column:57}},'24':{start:{line:40,column:31},end:{line:40,column:67}},'25':{start:{line:41,column:16},end:{line:118,column:17}},'26':{start:{line:43,column:30},end:{line:43,column:95}},'27':{start:{line:44,column:20},end:{line:44,column:37}},'28':{start:{line:45,column:35},end:{line:45,column:49}},'29':{start:{line:46,column:20},end:{line:63,column:32}},'30':{start:{line:64,column:20},end:{line:64,column:49}},'31':{start:{line:69,column:20},end:{line:69,column:58}},'32':{start:{line:70,column:20},end:{line:91,column:21}},'33':{start:{line:71,column:34},end:{line:71,column:93}},'34':{start:{line:73,column:24},end:{line:89,column:75}},'35':{start:{line:92,column:20},end:{line:117,column:21}},'36':{start:{line:93,column:34},end:{line:93,column:54}},'37':{start:{line:94,column:39},end:{line:94,column:53}},'38':{start:{line:95,column:24},end:{line:112,column:36}},'39':{start:{line:113,column:24},end:{line:113,column:84}},'40':{start:{line:115,column:24},end:{line:115,column:47}},'41':{start:{line:116,column:24},end:{line:116,column:56}},'42':{start:{line:123,column:18},end:{line:123,column:105}},'43':{start:{line:124,column:23},end:{line:124,column:37}},'44':{start:{line:125,column:8},end:{line:142,column:20}},'45':{start:{line:143,column:8},end:{line:143,column:68}},'46':{start:{line:146,column:0},end:{line:150,column:2}},'47':{start:{line:148,column:4},end:{line:148,column:46}},'48':{start:{line:151,column:0},end:{line:291,column:2}},'49':{start:{line:152,column:4},end:{line:152,column:57}},'50':{start:{line:153,column:31},end:{line:153,column:36}},'51':{start:{line:154,column:15},end:{line:154,column:34}},'52':{start:{line:155,column:16},end:{line:155,column:44}},'53':{start:{line:156,column:15},end:{line:156,column:17}},'54':{start:{line:158,column:4},end:{line:158,column:52}},'55':{start:{line:159,column:4},end:{line:159,column:74}},'56':{start:{line:160,column:4},end:{line:163,column:7}},'57':{start:{line:161,column:8},end:{line:161,column:25}},'58':{start:{line:162,column:8},end:{line:162,column:27}},'59':{start:{line:164,column:4},end:{line:164,column:78}},'60':{start:{line:165,column:4},end:{line:264,column:7}},'61':{start:{line:167,column:26},end:{line:167,column:56}},'62':{start:{line:171,column:8},end:{line:192,column:9}},'63':{start:{line:172,column:27},end:{line:172,column:40}},'64':{start:{line:173,column:26},end:{line:173,column:61}},'65':{start:{line:174,column:12},end:{line:191,column:24}},'66':{start:{line:194,column:8},end:{line:263,column:11}},'67':{start:{line:195,column:12},end:{line:195,column:40}},'68':{start:{line:196,column:27},end:{line:196,column:51}},'69':{start:{line:198,column:12},end:{line:261,column:13}},'70':{start:{line:200,column:16},end:{line:200,column:47}},'71':{start:{line:203,column:16},end:{line:203,column:89}},'72':{start:{line:204,column:16},end:{line:260,column:17}},'73':{start:{line:205,column:20},end:{line:254,column:21}},'74':{start:{line:206,column:35},end:{line:206,column:38}},'75':{start:{line:207,column:39},end:{line:207,column:75}},'76':{start:{line:208,column:24},end:{line:208,column:80}},'77':{start:{line:209,column:42},end:{line:209,column:66}},'78':{start:{line:210,column:24},end:{line:227,column:36}},'79':{start:{line:229,column:24},end:{line:229,column:51}},'80':{start:{line:231,column:35},end:{line:231,column:38}},'81':{start:{line:232,column:39},end:{line:232,column:75}},'82':{start:{line:233,column:24},end:{line:233,column:79}},'83':{start:{line:234,column:42},end:{line:234,column:66}},'84':{start:{line:235,column:24},end:{line:252,column:36}},'85':{start:{line:253,column:24},end:{line:253,column:52}},'86':{start:{line:259,column:20},end:{line:259,column:52}},'87':{start:{line:265,column:4},end:{line:290,column:7}},'88':{start:{line:266,column:22},end:{line:266,column:56}},'89':{start:{line:267,column:25},end:{line:267,column:28}},'90':{start:{line:268,column:19},end:{line:268,column:61}},'91':{start:{line:269,column:8},end:{line:286,column:20}},'92':{start:{line:288,column:8},end:{line:288,column:33}},'93':{start:{line:292,column:0},end:{line:444,column:2}},'94':{start:{line:293,column:4},end:{line:293,column:42}},'95':{start:{line:294,column:19},end:{line:294,column:34}},'96':{start:{line:295,column:14},end:{line:295,column:27}},'97':{start:{line:296,column:22},end:{line:296,column:46}},'98':{start:{line:297,column:18},end:{line:297,column:42}},'99':{start:{line:298,column:27},end:{line:298,column:59}},'100':{start:{line:299,column:19},end:{line:299,column:64}},'101':{start:{line:300,column:16},end:{line:300,column:44}},'102':{start:{line:301,column:19},end:{line:301,column:168}},'103':{start:{line:303,column:4},end:{line:443,column:5}},'104':{start:{line:305,column:8},end:{line:305,column:63}},'105':{start:{line:306,column:8},end:{line:328,column:9}},'106':{start:{line:307,column:27},end:{line:307,column:40}},'107':{start:{line:309,column:22},end:{line:309,column:100}},'108':{start:{line:310,column:12},end:{line:327,column:24}},'109':{start:{line:330,column:8},end:{line:419,column:15}},'110':{start:{line:341,column:16},end:{line:341,column:46}},'111':{start:{line:342,column:16},end:{line:342,column:52}},'112':{start:{line:343,column:16},end:{line:343,column:44}},'113':{start:{line:344,column:27},end:{line:344,column:57}},'114':{start:{line:345,column:31},end:{line:345,column:67}},'115':{start:{line:346,column:16},end:{line:369,column:17}},'116':{start:{line:347,column:30},end:{line:347,column:80}},'117':{start:{line:349,column:20},end:{line:366,column:32}},'118':{start:{line:367,column:20},end:{line:367,column:87}},'119':{start:{line:370,column:16},end:{line:392,column:17}},'120':{start:{line:371,column:30},end:{line:371,column:50}},'121':{start:{line:372,column:35},end:{line:372,column:49}},'122':{start:{line:373,column:20},end:{line:390,column:32}},'123':{start:{line:391,column:20},end:{line:391,column:80}},'124':{start:{line:393,column:16},end:{line:418,column:17}},'125':{start:{line:395,column:20},end:{line:416,column:21}},'126':{start:{line:396,column:34},end:{line:396,column:73}},'127':{start:{line:397,column:39},end:{line:397,column:52}},'128':{start:{line:398,column:24},end:{line:415,column:36}},'129':{start:{line:417,column:20},end:{line:417,column:57}},'130':{start:{line:422,column:18},end:{line:422,column:104}},'131':{start:{line:423,column:23},end:{line:423,column:37}},'132':{start:{line:424,column:8},end:{line:441,column:20}},'133':{start:{line:442,column:8},end:{line:442,column:68}},'134':{start:{line:445,column:0},end:{line:556,column:2}},'135':{start:{line:447,column:19},end:{line:447,column:34}},'136':{start:{line:448,column:21},end:{line:448,column:41}},'137':{start:{line:449,column:22},end:{line:449,column:46}},'138':{start:{line:450,column:18},end:{line:450,column:42}},'139':{start:{line:451,column:27},end:{line:451,column:59}},'140':{start:{line:452,column:16},end:{line:452,column:44}},'141':{start:{line:453,column:4},end:{line:453,column:86}},'142':{start:{line:455,column:4},end:{line:554,column:5}},'143':{start:{line:456,column:23},end:{line:456,column:70}},'144':{start:{line:457,column:27},end:{line:457,column:141}},'145':{start:{line:458,column:8},end:{line:458,column:53}},'146':{start:{line:459,column:8},end:{line:529,column:10}},'147':{start:{line:469,column:27},end:{line:469,column:57}},'148':{start:{line:470,column:31},end:{line:470,column:67}},'149':{start:{line:472,column:16},end:{line:497,column:17}},'150':{start:{line:474,column:30},end:{line:474,column:97}},'151':{start:{line:477,column:20},end:{line:494,column:32}},'152':{start:{line:495,column:24},end:{line:495,column:41}},'153':{start:{line:496,column:20},end:{line:496,column:49}},'154':{start:{line:498,column:16},end:{line:527,column:17}},'155':{start:{line:500,column:20},end:{line:500,column:59}},'156':{start:{line:501,column:20},end:{line:523,column:21}},'157':{start:{line:502,column:34},end:{line:502,column:77}},'158':{start:{line:503,column:24},end:{line:503,column:76}},'159':{start:{line:504,column:24},end:{line:504,column:84}},'160':{start:{line:505,column:24},end:{line:522,column:36}},'161':{start:{line:526,column:20},end:{line:526,column:52}},'162':{start:{line:532,column:18},end:{line:532,column:79}},'163':{start:{line:533,column:23},end:{line:533,column:37}},'164':{start:{line:534,column:8},end:{line:551,column:20}},'165':{start:{line:552,column:12},end:{line:552,column:29}},'166':{start:{line:553,column:8},end:{line:553,column:119}},'167':{start:{line:560,column:4},end:{line:560,column:42}},'168':{start:{line:561,column:4},end:{line:590,column:5}},'169':{start:{line:563,column:12},end:{line:563,column:33}},'170':{start:{line:565,column:12},end:{line:565,column:32}},'171':{start:{line:567,column:12},end:{line:567,column:33}},'172':{start:{line:569,column:12},end:{line:569,column:34}},'173':{start:{line:571,column:12},end:{line:571,column:33}},'174':{start:{line:573,column:12},end:{line:573,column:34}},'175':{start:{line:575,column:12},end:{line:575,column:34}},'176':{start:{line:577,column:12},end:{line:577,column:34}},'177':{start:{line:579,column:12},end:{line:579,column:33}},'178':{start:{line:581,column:12},end:{line:581,column:35}},'179':{start:{line:583,column:12},end:{line:583,column:34}},'180':{start:{line:585,column:12},end:{line:585,column:34}},'181':{start:{line:587,column:12},end:{line:587,column:33}},'182':{start:{line:589,column:12},end:{line:589,column:34}},'183':{start:{line:597,column:15},end:{line:597,column:25}},'184':{start:{line:598,column:4},end:{line:609,column:7}},'185':{start:{line:606,column:8},end:{line:608,column:9}},'186':{start:{line:607,column:12},end:{line:607,column:29}},'187':{start:{line:612,column:4},end:{line:612,column:52}},'188':{start:{line:613,column:4},end:{line:615,column:5}},'189':{start:{line:614,column:8},end:{line:614,column:35}},'190':{start:{line:616,column:4},end:{line:634,column:5}},'191':{start:{line:617,column:8},end:{line:617,column:56}},'192':{start:{line:618,column:8},end:{line:633,column:9}},'193':{start:{line:619,column:12},end:{line:619,column:23}},'194':{start:{line:621,column:13},end:{line:633,column:9}},'195':{start:{line:622,column:12},end:{line:622,column:23}},'196':{start:{line:624,column:13},end:{line:633,column:9}},'197':{start:{line:625,column:12},end:{line:625,column:23}},'198':{start:{line:626,column:15},end:{line:633,column:9}},'199':{start:{line:627,column:12},end:{line:627,column:23}},'200':{start:{line:628,column:15},end:{line:633,column:9}},'201':{start:{line:629,column:12},end:{line:629,column:23}},'202':{start:{line:632,column:12},end:{line:632,column:36}},'203':{start:{line:637,column:4},end:{line:656,column:5}},'204':{start:{line:639,column:12},end:{line:639,column:24}},'205':{start:{line:641,column:12},end:{line:641,column:24}},'206':{start:{line:643,column:12},end:{line:643,column:24}},'207':{start:{line:645,column:12},end:{line:645,column:24}},'208':{start:{line:647,column:12},end:{line:647,column:24}},'209':{start:{line:649,column:12},end:{line:649,column:24}},'210':{start:{line:651,column:12},end:{line:651,column:24}},'211':{start:{line:653,column:12},end:{line:653,column:24}},'212':{start:{line:655,column:12},end:{line:655,column:25}},'213':{start:{line:659,column:4},end:{line:668,column:5}},'214':{start:{line:661,column:12},end:{line:661,column:24}},'215':{start:{line:663,column:12},end:{line:663,column:24}},'216':{start:{line:665,column:12},end:{line:665,column:24}},'217':{start:{line:667,column:12},end:{line:667,column:25}},'218':{start:{line:671,column:14},end:{line:671,column:33}},'219':{start:{line:672,column:17},end:{line:672,column:38}},'220':{start:{line:673,column:19},end:{line:673,column:93}},'221':{start:{line:674,column:4},end:{line:674,column:46}},'222':{start:{line:675,column:4},end:{line:675,column:20}},'223':{start:{line:678,column:22},end:{line:678,column:46}},'224':{start:{line:679,column:18},end:{line:679,column:42}},'225':{start:{line:680,column:27},end:{line:680,column:59}},'226':{start:{line:682,column:19},end:{line:682,column:133}},'227':{start:{line:686,column:4},end:{line:686,column:54}},'228':{start:{line:688,column:4},end:{line:876,column:5}},'229':{start:{line:690,column:8},end:{line:853,column:15}},'230':{start:{line:703,column:27},end:{line:703,column:57}},'231':{start:{line:704,column:31},end:{line:704,column:67}},'232':{start:{line:706,column:16},end:{line:730,column:17}},'233':{start:{line:707,column:20},end:{line:707,column:57}},'234':{start:{line:708,column:30},end:{line:708,column:77}},'235':{start:{line:709,column:20},end:{line:709,column:83}},'236':{start:{line:710,column:20},end:{line:727,column:32}},'237':{start:{line:729,column:20},end:{line:729,column:42}},'238':{start:{line:731,column:16},end:{line:756,column:17}},'239':{start:{line:732,column:20},end:{line:732,column:76}},'240':{start:{line:734,column:30},end:{line:734,column:68}},'241':{start:{line:736,column:20},end:{line:752,column:74}},'242':{start:{line:755,column:20},end:{line:755,column:45}},'243':{start:{line:757,column:16},end:{line:782,column:17}},'244':{start:{line:758,column:20},end:{line:758,column:52}},'245':{start:{line:760,column:30},end:{line:760,column:48}},'246':{start:{line:762,column:20},end:{line:778,column:74}},'247':{start:{line:781,column:20},end:{line:781,column:45}},'248':{start:{line:783,column:16},end:{line:808,column:17}},'249':{start:{line:784,column:20},end:{line:784,column:52}},'250':{start:{line:786,column:30},end:{line:786,column:48}},'251':{start:{line:788,column:20},end:{line:804,column:74}},'252':{start:{line:807,column:20},end:{line:807,column:45}},'253':{start:{line:810,column:16},end:{line:835,column:17}},'254':{start:{line:811,column:20},end:{line:811,column:77}},'255':{start:{line:813,column:30},end:{line:813,column:63}},'256':{start:{line:815,column:20},end:{line:831,column:74}},'257':{start:{line:834,column:20},end:{line:834,column:45}},'258':{start:{line:836,column:16},end:{line:851,column:17}},'259':{start:{line:838,column:20},end:{line:838,column:67}},'260':{start:{line:839,column:20},end:{line:849,column:23}},'261':{start:{line:841,column:24},end:{line:848,column:25}},'262':{start:{line:842,column:28},end:{line:842,column:78}},'263':{start:{line:843,column:28},end:{line:843,column:49}},'264':{start:{line:845,column:28},end:{line:845,column:77}},'265':{start:{line:847,column:28},end:{line:847,column:50}},'266':{start:{line:856,column:18},end:{line:856,column:65}},'267':{start:{line:858,column:8},end:{line:874,column:62}},'268':{start:{line:875,column:8},end:{line:875,column:56}},'269':{start:{line:880,column:4},end:{line:937,column:7}},'270':{start:{line:881,column:22},end:{line:881,column:45}},'271':{start:{line:882,column:8},end:{line:882,column:42}},'272':{start:{line:884,column:8},end:{line:884,column:36}},'273':{start:{line:887,column:8},end:{line:936,column:9}},'274':{start:{line:888,column:12},end:{line:888,column:53}},'275':{start:{line:889,column:22},end:{line:889,column:65}},'276':{start:{line:890,column:27},end:{line:890,column:66}},'277':{start:{line:892,column:12},end:{line:909,column:24}},'278':{start:{line:911,column:12},end:{line:911,column:32}},'279':{start:{line:914,column:12},end:{line:934,column:13}},'280':{start:{line:915,column:16},end:{line:915,column:60}},'281':{start:{line:916,column:26},end:{line:916,column:78}},'282':{start:{line:917,column:16},end:{line:933,column:69}},'283':{start:{line:935,column:12},end:{line:935,column:32}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:10,column:19},end:{line:10,column:20}},loc:{start:{line:10,column:58},end:{line:145,column:1}},line:10},'1':{name:'(anonymous_1)',decl:{start:{line:37,column:12},end:{line:37,column:13}},loc:{start:{line:37,column:45},end:{line:120,column:13}},line:37},'2':{name:'(anonymous_2)',decl:{start:{line:146,column:20},end:{line:146,column:21}},loc:{start:{line:146,column:40},end:{line:150,column:1}},line:146},'3':{name:'(anonymous_3)',decl:{start:{line:151,column:21},end:{line:151,column:22}},loc:{start:{line:151,column:60},end:{line:291,column:1}},line:151},'4':{name:'(anonymous_4)',decl:{start:{line:160,column:19},end:{line:160,column:20}},loc:{start:{line:160,column:36},end:{line:163,column:5}},line:160},'5':{name:'(anonymous_5)',decl:{start:{line:165,column:18},end:{line:165,column:19}},loc:{start:{line:165,column:30},end:{line:264,column:5}},line:165},'6':{name:'(anonymous_6)',decl:{start:{line:194,column:68},end:{line:194,column:69}},loc:{start:{line:194,column:89},end:{line:263,column:9}},line:194},'7':{name:'(anonymous_7)',decl:{start:{line:265,column:20},end:{line:265,column:21}},loc:{start:{line:265,column:35},end:{line:290,column:5}},line:265},'8':{name:'(anonymous_8)',decl:{start:{line:292,column:23},end:{line:292,column:24}},loc:{start:{line:292,column:62},end:{line:444,column:1}},line:292},'9':{name:'(anonymous_9)',decl:{start:{line:340,column:12},end:{line:340,column:13}},loc:{start:{line:340,column:45},end:{line:419,column:13}},line:340},'10':{name:'(anonymous_10)',decl:{start:{line:445,column:21},end:{line:445,column:22}},loc:{start:{line:445,column:60},end:{line:556,column:1}},line:445},'11':{name:'(anonymous_11)',decl:{start:{line:468,column:12},end:{line:468,column:13}},loc:{start:{line:468,column:45},end:{line:528,column:13}},line:468},'12':{name:'getErrorCodeStringWithStatCode',decl:{start:{line:559,column:9},end:{line:559,column:39}},loc:{start:{line:559,column:46},end:{line:591,column:1}},line:559},'13':{name:'callES',decl:{start:{line:592,column:9},end:{line:592,column:15}},loc:{start:{line:595,column:53},end:{line:610,column:1}},line:595},'14':{name:'(anonymous_14)',decl:{start:{line:605,column:7},end:{line:605,column:8}},loc:{start:{line:605,column:36},end:{line:609,column:5}},line:605},'15':{name:'getStatusCode',decl:{start:{line:611,column:9},end:{line:611,column:22}},loc:{start:{line:611,column:40},end:{line:635,column:1}},line:611},'16':{name:'validateCountryCode',decl:{start:{line:636,column:9},end:{line:636,column:28}},loc:{start:{line:636,column:42},end:{line:657,column:1}},line:636},'17':{name:'validateSrcDest',decl:{start:{line:658,column:9},end:{line:658,column:24}},loc:{start:{line:658,column:30},end:{line:669,column:1}},line:658},'18':{name:'getCcmEndpoint',decl:{start:{line:670,column:9},end:{line:670,column:23}},loc:{start:{line:670,column:57},end:{line:676,column:1}},line:670},'19':{name:'postToZfam',decl:{start:{line:677,column:9},end:{line:677,column:19}},loc:{start:{line:677,column:75},end:{line:877,column:1}},line:677},'20':{name:'(anonymous_20)',decl:{start:{line:702,column:12},end:{line:702,column:13}},loc:{start:{line:702,column:45},end:{line:853,column:13}},line:702},'21':{name:'(anonymous_21)',decl:{start:{line:839,column:79},end:{line:839,column:80}},loc:{start:{line:839,column:102},end:{line:849,column:21}},line:839},'22':{name:'callKafka',decl:{start:{line:878,column:9},end:{line:878,column:18}},loc:{start:{line:878,column:78},end:{line:939,column:1}},line:878},'23':{name:'(anonymous_23)',decl:{start:{line:880,column:45},end:{line:880,column:46}},loc:{start:{line:880,column:65},end:{line:937,column:5}},line:880}},branchMap:{'0':{loc:{start:{line:21,column:4},end:{line:144,column:5}},type:'if',locations:[{start:{line:21,column:4},end:{line:144,column:5}},{start:{line:21,column:4},end:{line:144,column:5}}],line:21},'1':{loc:{start:{line:21,column:8},end:{line:21,column:28}},type:'binary-expr',locations:[{start:{line:21,column:8},end:{line:21,column:15}},{start:{line:21,column:19},end:{line:21,column:28}}],line:21},'2':{loc:{start:{line:41,column:16},end:{line:118,column:17}},type:'if',locations:[{start:{line:41,column:16},end:{line:118,column:17}},{start:{line:41,column:16},end:{line:118,column:17}}],line:41},'3':{loc:{start:{line:70,column:20},end:{line:91,column:21}},type:'if',locations:[{start:{line:70,column:20},end:{line:91,column:21}},{start:{line:70,column:20},end:{line:91,column:21}}],line:70},'4':{loc:{start:{line:92,column:20},end:{line:117,column:21}},type:'if',locations:[{start:{line:92,column:20},end:{line:117,column:21}},{start:{line:92,column:20},end:{line:117,column:21}}],line:92},'5':{loc:{start:{line:171,column:8},end:{line:192,column:9}},type:'if',locations:[{start:{line:171,column:8},end:{line:192,column:9}},{start:{line:171,column:8},end:{line:192,column:9}}],line:171},'6':{loc:{start:{line:198,column:12},end:{line:261,column:13}},type:'if',locations:[{start:{line:198,column:12},end:{line:261,column:13}},{start:{line:198,column:12},end:{line:261,column:13}}],line:198},'7':{loc:{start:{line:204,column:16},end:{line:260,column:17}},type:'if',locations:[{start:{line:204,column:16},end:{line:260,column:17}},{start:{line:204,column:16},end:{line:260,column:17}}],line:204},'8':{loc:{start:{line:204,column:20},end:{line:204,column:59}},type:'binary-expr',locations:[{start:{line:204,column:20},end:{line:204,column:42}},{start:{line:204,column:46},end:{line:204,column:59}}],line:204},'9':{loc:{start:{line:205,column:20},end:{line:254,column:21}},type:'if',locations:[{start:{line:205,column:20},end:{line:254,column:21}},{start:{line:205,column:20},end:{line:254,column:21}}],line:205},'10':{loc:{start:{line:303,column:4},end:{line:443,column:5}},type:'if',locations:[{start:{line:303,column:4},end:{line:443,column:5}},{start:{line:303,column:4},end:{line:443,column:5}}],line:303},'11':{loc:{start:{line:303,column:8},end:{line:303,column:36}},type:'binary-expr',locations:[{start:{line:303,column:8},end:{line:303,column:24}},{start:{line:303,column:28},end:{line:303,column:36}}],line:303},'12':{loc:{start:{line:306,column:8},end:{line:328,column:9}},type:'if',locations:[{start:{line:306,column:8},end:{line:328,column:9}},{start:{line:306,column:8},end:{line:328,column:9}}],line:306},'13':{loc:{start:{line:346,column:16},end:{line:369,column:17}},type:'if',locations:[{start:{line:346,column:16},end:{line:369,column:17}},{start:{line:346,column:16},end:{line:369,column:17}}],line:346},'14':{loc:{start:{line:370,column:16},end:{line:392,column:17}},type:'if',locations:[{start:{line:370,column:16},end:{line:392,column:17}},{start:{line:370,column:16},end:{line:392,column:17}}],line:370},'15':{loc:{start:{line:393,column:16},end:{line:418,column:17}},type:'if',locations:[{start:{line:393,column:16},end:{line:418,column:17}},{start:{line:393,column:16},end:{line:418,column:17}}],line:393},'16':{loc:{start:{line:395,column:20},end:{line:416,column:21}},type:'if',locations:[{start:{line:395,column:20},end:{line:416,column:21}},{start:{line:395,column:20},end:{line:416,column:21}}],line:395},'17':{loc:{start:{line:455,column:4},end:{line:554,column:5}},type:'if',locations:[{start:{line:455,column:4},end:{line:554,column:5}},{start:{line:455,column:4},end:{line:554,column:5}}],line:455},'18':{loc:{start:{line:472,column:16},end:{line:497,column:17}},type:'if',locations:[{start:{line:472,column:16},end:{line:497,column:17}},{start:{line:472,column:16},end:{line:497,column:17}}],line:472},'19':{loc:{start:{line:498,column:16},end:{line:527,column:17}},type:'if',locations:[{start:{line:498,column:16},end:{line:527,column:17}},{start:{line:498,column:16},end:{line:527,column:17}}],line:498},'20':{loc:{start:{line:501,column:20},end:{line:523,column:21}},type:'if',locations:[{start:{line:501,column:20},end:{line:523,column:21}},{start:{line:501,column:20},end:{line:523,column:21}}],line:501},'21':{loc:{start:{line:561,column:4},end:{line:590,column:5}},type:'switch',locations:[{start:{line:562,column:8},end:{line:563,column:33}},{start:{line:564,column:8},end:{line:565,column:32}},{start:{line:566,column:8},end:{line:567,column:33}},{start:{line:568,column:8},end:{line:569,column:34}},{start:{line:570,column:8},end:{line:571,column:33}},{start:{line:572,column:8},end:{line:573,column:34}},{start:{line:574,column:8},end:{line:575,column:34}},{start:{line:576,column:8},end:{line:577,column:34}},{start:{line:578,column:8},end:{line:579,column:33}},{start:{line:580,column:8},end:{line:581,column:35}},{start:{line:582,column:8},end:{line:583,column:34}},{start:{line:584,column:8},end:{line:585,column:34}},{start:{line:586,column:8},end:{line:587,column:33}},{start:{line:588,column:8},end:{line:589,column:34}}],line:561},'22':{loc:{start:{line:606,column:8},end:{line:608,column:9}},type:'if',locations:[{start:{line:606,column:8},end:{line:608,column:9}},{start:{line:606,column:8},end:{line:608,column:9}}],line:606},'23':{loc:{start:{line:613,column:4},end:{line:615,column:5}},type:'if',locations:[{start:{line:613,column:4},end:{line:615,column:5}},{start:{line:613,column:4},end:{line:615,column:5}}],line:613},'24':{loc:{start:{line:613,column:8},end:{line:613,column:46}},type:'binary-expr',locations:[{start:{line:613,column:8},end:{line:613,column:21}},{start:{line:613,column:25},end:{line:613,column:46}}],line:613},'25':{loc:{start:{line:616,column:4},end:{line:634,column:5}},type:'if',locations:[{start:{line:616,column:4},end:{line:634,column:5}},{start:{line:616,column:4},end:{line:634,column:5}}],line:616},'26':{loc:{start:{line:616,column:9},end:{line:616,column:53}},type:'binary-expr',locations:[{start:{line:616,column:9},end:{line:616,column:25}},{start:{line:616,column:29},end:{line:616,column:53}}],line:616},'27':{loc:{start:{line:618,column:8},end:{line:633,column:9}},type:'if',locations:[{start:{line:618,column:8},end:{line:633,column:9}},{start:{line:618,column:8},end:{line:633,column:9}}],line:618},'28':{loc:{start:{line:618,column:12},end:{line:618,column:95}},type:'binary-expr',locations:[{start:{line:618,column:12},end:{line:618,column:44}},{start:{line:618,column:48},end:{line:618,column:74}},{start:{line:618,column:78},end:{line:618,column:95}}],line:618},'29':{loc:{start:{line:621,column:13},end:{line:633,column:9}},type:'if',locations:[{start:{line:621,column:13},end:{line:633,column:9}},{start:{line:621,column:13},end:{line:633,column:9}}],line:621},'30':{loc:{start:{line:624,column:13},end:{line:633,column:9}},type:'if',locations:[{start:{line:624,column:13},end:{line:633,column:9}},{start:{line:624,column:13},end:{line:633,column:9}}],line:624},'31':{loc:{start:{line:626,column:15},end:{line:633,column:9}},type:'if',locations:[{start:{line:626,column:15},end:{line:633,column:9}},{start:{line:626,column:15},end:{line:633,column:9}}],line:626},'32':{loc:{start:{line:628,column:15},end:{line:633,column:9}},type:'if',locations:[{start:{line:628,column:15},end:{line:633,column:9}},{start:{line:628,column:15},end:{line:633,column:9}}],line:628},'33':{loc:{start:{line:637,column:4},end:{line:656,column:5}},type:'switch',locations:[{start:{line:638,column:8},end:{line:639,column:24}},{start:{line:640,column:8},end:{line:641,column:24}},{start:{line:642,column:8},end:{line:643,column:24}},{start:{line:644,column:8},end:{line:645,column:24}},{start:{line:646,column:8},end:{line:647,column:24}},{start:{line:648,column:8},end:{line:649,column:24}},{start:{line:650,column:8},end:{line:651,column:24}},{start:{line:652,column:8},end:{line:653,column:24}},{start:{line:654,column:8},end:{line:655,column:25}}],line:637},'34':{loc:{start:{line:659,column:4},end:{line:668,column:5}},type:'switch',locations:[{start:{line:660,column:8},end:{line:661,column:24}},{start:{line:662,column:8},end:{line:663,column:24}},{start:{line:664,column:8},end:{line:665,column:24}},{start:{line:666,column:8},end:{line:667,column:25}}],line:659},'35':{loc:{start:{line:688,column:4},end:{line:876,column:5}},type:'if',locations:[{start:{line:688,column:4},end:{line:876,column:5}},{start:{line:688,column:4},end:{line:876,column:5}}],line:688},'36':{loc:{start:{line:706,column:16},end:{line:730,column:17}},type:'if',locations:[{start:{line:706,column:16},end:{line:730,column:17}},{start:{line:706,column:16},end:{line:730,column:17}}],line:706},'37':{loc:{start:{line:731,column:16},end:{line:756,column:17}},type:'if',locations:[{start:{line:731,column:16},end:{line:756,column:17}},{start:{line:731,column:16},end:{line:756,column:17}}],line:731},'38':{loc:{start:{line:757,column:16},end:{line:782,column:17}},type:'if',locations:[{start:{line:757,column:16},end:{line:782,column:17}},{start:{line:757,column:16},end:{line:782,column:17}}],line:757},'39':{loc:{start:{line:783,column:16},end:{line:808,column:17}},type:'if',locations:[{start:{line:783,column:16},end:{line:808,column:17}},{start:{line:783,column:16},end:{line:808,column:17}}],line:783},'40':{loc:{start:{line:810,column:16},end:{line:835,column:17}},type:'if',locations:[{start:{line:810,column:16},end:{line:835,column:17}},{start:{line:810,column:16},end:{line:835,column:17}}],line:810},'41':{loc:{start:{line:836,column:16},end:{line:851,column:17}},type:'if',locations:[{start:{line:836,column:16},end:{line:851,column:17}},{start:{line:836,column:16},end:{line:851,column:17}}],line:836},'42':{loc:{start:{line:841,column:24},end:{line:848,column:25}},type:'if',locations:[{start:{line:841,column:24},end:{line:848,column:25}},{start:{line:841,column:24},end:{line:848,column:25}}],line:841},'43':{loc:{start:{line:887,column:8},end:{line:936,column:9}},type:'if',locations:[{start:{line:887,column:8},end:{line:936,column:9}},{start:{line:887,column:8},end:{line:936,column:9}}],line:887},'44':{loc:{start:{line:914,column:12},end:{line:934,column:13}},type:'if',locations:[{start:{line:914,column:12},end:{line:934,column:13}},{start:{line:914,column:12},end:{line:934,column:13}}],line:914}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0,'82':0,'83':0,'84':0,'85':0,'86':0,'87':0,'88':0,'89':0,'90':0,'91':0,'92':0,'93':0,'94':0,'95':0,'96':0,'97':0,'98':0,'99':0,'100':0,'101':0,'102':0,'103':0,'104':0,'105':0,'106':0,'107':0,'108':0,'109':0,'110':0,'111':0,'112':0,'113':0,'114':0,'115':0,'116':0,'117':0,'118':0,'119':0,'120':0,'121':0,'122':0,'123':0,'124':0,'125':0,'126':0,'127':0,'128':0,'129':0,'130':0,'131':0,'132':0,'133':0,'134':0,'135':0,'136':0,'137':0,'138':0,'139':0,'140':0,'141':0,'142':0,'143':0,'144':0,'145':0,'146':0,'147':0,'148':0,'149':0,'150':0,'151':0,'152':0,'153':0,'154':0,'155':0,'156':0,'157':0,'158':0,'159':0,'160':0,'161':0,'162':0,'163':0,'164':0,'165':0,'166':0,'167':0,'168':0,'169':0,'170':0,'171':0,'172':0,'173':0,'174':0,'175':0,'176':0,'177':0,'178':0,'179':0,'180':0,'181':0,'182':0,'183':0,'184':0,'185':0,'186':0,'187':0,'188':0,'189':0,'190':0,'191':0,'192':0,'193':0,'194':0,'195':0,'196':0,'197':0,'198':0,'199':0,'200':0,'201':0,'202':0,'203':0,'204':0,'205':0,'206':0,'207':0,'208':0,'209':0,'210':0,'211':0,'212':0,'213':0,'214':0,'215':0,'216':0,'217':0,'218':0,'219':0,'220':0,'221':0,'222':0,'223':0,'224':0,'225':0,'226':0,'227':0,'228':0,'229':0,'230':0,'231':0,'232':0,'233':0,'234':0,'235':0,'236':0,'237':0,'238':0,'239':0,'240':0,'241':0,'242':0,'243':0,'244':0,'245':0,'246':0,'247':0,'248':0,'249':0,'250':0,'251':0,'252':0,'253':0,'254':0,'255':0,'256':0,'257':0,'258':0,'259':0,'260':0,'261':0,'262':0,'263':0,'264':0,'265':0,'266':0,'267':0,'268':0,'269':0,'270':0,'271':0,'272':0,'273':0,'274':0,'275':0,'276':0,'277':0,'278':0,'279':0,'280':0,'281':0,'282':0,'283':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0],'12':[0,0],'13':[0,0],'14':[0,0],'15':[0,0],'16':[0,0],'17':[0,0],'18':[0,0],'19':[0,0],'20':[0,0],'21':[0,0,0,0,0,0,0,0,0,0,0,0,0,0],'22':[0,0],'23':[0,0],'24':[0,0],'25':[0,0],'26':[0,0],'27':[0,0],'28':[0,0,0],'29':[0,0],'30':[0,0],'31':[0,0],'32':[0,0],'33':[0,0,0,0,0,0,0,0,0],'34':[0,0,0,0],'35':[0,0],'36':[0,0],'37':[0,0],'38':[0,0],'39':[0,0],'40':[0,0],'41':[0,0],'42':[0,0],'43':[0,0],'44':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var request=(cov_184uwy7ept.s[0]++,require("request"));var path=(cov_184uwy7ept.s[1]++,require('path'));var errorCode=(cov_184uwy7ept.s[2]++,require('./errorCodes.js'));var elasticsearch=(cov_184uwy7ept.s[3]++,require('elasticsearch'));var fs=(cov_184uwy7ept.s[4]++,require('fs'));var kafka=(cov_184uwy7ept.s[5]++,require('./kafka'));//////////////////////////////////////////////////////////////////////////////////////////////////////////
cov_184uwy7ept.s[6]++;exports.moveFile=function(req,res,constants,client){cov_184uwy7ept.f[0]++;var fileName=(cov_184uwy7ept.s[7]++,req.params.file);var destination=(cov_184uwy7ept.s[8]++,req.query.dest);var dest=(cov_184uwy7ept.s[9]++,destination.toString().toUpperCase());var countryCode=(cov_184uwy7ept.s[10]++,fileName.substring(0,3));var country=(cov_184uwy7ept.s[11]++,fileName.substring(0,2));var validCC=(cov_184uwy7ept.s[12]++,validateCountryCode(countryCode));var ipAdr=(cov_184uwy7ept.s[13]++,req.connection.remoteAddress);var validDest=(cov_184uwy7ept.s[14]++,validateSrcDest(dest));cov_184uwy7ept.s[15]++;if((cov_184uwy7ept.b[1][0]++,validCC)&&(cov_184uwy7ept.b[1][1]++,validDest)){cov_184uwy7ept.b[0][0]++;cov_184uwy7ept.s[16]++;console.log('valid cc and dest');var srcPath=(cov_184uwy7ept.s[17]++,constants.zFam.host+country+constants.zFam.strSysDept+countryCode+constants.zFam.hostWithFolder+fileName);var destPath=(cov_184uwy7ept.s[18]++,constants.zFam.host+country+constants.zFam.strSysDept+countryCode+constants.zFam.hostNoFolder+dest+'/'+fileName+constants.zFam.ttl);cov_184uwy7ept.s[19]++;console.log('src path '+srcPath);cov_184uwy7ept.s[20]++;console.log('destpath '+destPath);cov_184uwy7ept.s[21]++;request({method:'HEAD',uri:srcPath,headers:{'Destination':destPath,'zFAM-Method':'MOVE','Overwrite':constants.zFam.overwrite,'Authorization':constants.zFam.auth}},function(error,response,body){cov_184uwy7ept.f[1]++;cov_184uwy7ept.s[22]++;console.log('inside function');var stat=(cov_184uwy7ept.s[23]++,getStatusCode(error,response));var statname=(cov_184uwy7ept.s[24]++,getErrorCodeStringWithStatCode(stat));cov_184uwy7ept.s[25]++;if(error){cov_184uwy7ept.b[2][0]++;var msg=(cov_184uwy7ept.s[26]++,'ERROR MOVING FILE, '+fileName+', to \''+dest+'\' folder');cov_184uwy7ept.s[27]++;console.log(msg);var statname=(cov_184uwy7ept.s[28]++,'fivezerozero');cov_184uwy7ept.s[29]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,countryCode,fileName,stat,ipAdr,msg,msg,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);cov_184uwy7ept.s[30]++;res.status(stat).send(error);}else{cov_184uwy7ept.b[2][1]++;cov_184uwy7ept.s[31]++;console.log('statname : '+statname);cov_184uwy7ept.s[32]++;if(constants.elastic.flag!=='false'){cov_184uwy7ept.b[3][0]++;var msg=(cov_184uwy7ept.s[33]++,'Moving File, '+fileName+', to \''+dest+'\' folder');cov_184uwy7ept.s[34]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,countryCode,fileName,stat,ipAdr,msg,constants.elastic[statname].longMsg,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);}else{cov_184uwy7ept.b[3][1]++;}cov_184uwy7ept.s[35]++;if(stat===204){cov_184uwy7ept.b[4][0]++;var msg=(cov_184uwy7ept.s[36]++,'File Doesnt  Exist');var statname=(cov_184uwy7ept.s[37]++,'fourzerofour');cov_184uwy7ept.s[38]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,countryCode,fileName,404,ipAdr,msg,msg,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);cov_184uwy7ept.s[39]++;res.status(404).send(new errorCode.errorNotFound(msg,404));}else{cov_184uwy7ept.b[4][1]++;cov_184uwy7ept.s[40]++;console.log('in stat');cov_184uwy7ept.s[41]++;res.status(stat).send(response);}}});}else{cov_184uwy7ept.b[0][1]++;var msg=(cov_184uwy7ept.s[42]++,'Either country code: \''+countryCode+'\' or source \''+dest+'\' is not valid.');var statname=(cov_184uwy7ept.s[43]++,'fourzerofour');cov_184uwy7ept.s[44]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,countryCode,fileName,404,ipAdr,msg,msg,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);cov_184uwy7ept.s[45]++;res.status(404).send(new errorCode.errorNotFound(msg,404));}};cov_184uwy7ept.s[46]++;exports.heartbeat=function(req,res){cov_184uwy7ept.f[2]++;cov_184uwy7ept.s[47]++;res.status(200).send('__/\\_/\\_/\\____');};cov_184uwy7ept.s[48]++;exports.uploadFile=function(req,res,constants,client){cov_184uwy7ept.f[3]++;cov_184uwy7ept.s[49]++;console.log('the flag is '+constants.elastic.flag);var connectedToKafkaFlag=(cov_184uwy7ept.s[50]++,false);var file=(cov_184uwy7ept.s[51]++,req.params.fileName);var ipAdr=(cov_184uwy7ept.s[52]++,req.connection.remoteAddress);var data=(cov_184uwy7ept.s[53]++,[]);cov_184uwy7ept.s[54]++;fileName=file.substring(0,file.length-4);cov_184uwy7ept.s[55]++;console.log('&&&&&&&&&&&&&&&&&&&&&&& chunks &&&&&&&&&&&&&&&&&&&&&&&');cov_184uwy7ept.s[56]++;req.on('data',function(chunk){cov_184uwy7ept.f[4]++;cov_184uwy7ept.s[57]++;data.push(chunk);cov_184uwy7ept.s[58]++;console.log(chunk);});cov_184uwy7ept.s[59]++;console.log('&&&&&&&&&&&&&&&&&&&&&&& end chunks &&&&&&&&&&&&&&&&&&&&&&&');cov_184uwy7ept.s[60]++;req.on('end',function(){cov_184uwy7ept.f[5]++;var xmlFileData=(cov_184uwy7ept.s[61]++,Buffer.concat(data).toString());// console.log('&&&&&&&&&&&&&&&&&&&&&&& msg &&&&&&&&&&&&&&&&&&&&&&&');
// console.log(xmlFileData);
// console.log('&&&&&&&&&&&&&&&&&&&&&&& end msg &&&&&&&&&&&&&&&&&&&&&&&');
cov_184uwy7ept.s[62]++;if(constants.elastic.flag!=='false'){cov_184uwy7ept.b[5][0]++;var statname=(cov_184uwy7ept.s[63]++,'twozerozero');var message=(cov_184uwy7ept.s[64]++,'Attempting to upload: '+fileName);cov_184uwy7ept.s[65]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,'idk',fileName,200,ipAdr,message,message,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);}else{cov_184uwy7ept.b[5][1]++;}cov_184uwy7ept.s[66]++;postToZfam(xmlFileData,fileName,ipAdr,client,constants,function(err,resp){cov_184uwy7ept.f[6]++;cov_184uwy7ept.s[67]++;connectedToKafkaFlag=resp;var statCode=(cov_184uwy7ept.s[68]++,getStatusCode(err,resp));cov_184uwy7ept.s[69]++;if(err){cov_184uwy7ept.b[6][0]++;cov_184uwy7ept.s[70]++;res.status(statCode).send(err);}else{cov_184uwy7ept.b[6][1]++;cov_184uwy7ept.s[71]++;console.log('in else when postToZfam is called statcode is '+statCode);cov_184uwy7ept.s[72]++;if((cov_184uwy7ept.b[8][0]++,statCode===undefined)||(cov_184uwy7ept.b[8][1]++,resp===null)){cov_184uwy7ept.b[7][0]++;cov_184uwy7ept.s[73]++;if(resp===false){cov_184uwy7ept.b[9][0]++;var stat=(cov_184uwy7ept.s[74]++,504);var statname=(cov_184uwy7ept.s[75]++,getErrorCodeStringWithStatCode(stat));cov_184uwy7ept.s[76]++;msg='kafka timed out when uploading file '+fileName;var countryCode=(cov_184uwy7ept.s[77]++,fileName.substring(0,3));cov_184uwy7ept.s[78]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,countryCode,fileName,stat,ipAdr,msg,constants.elastic[statname].longMsg,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);cov_184uwy7ept.s[79]++;res.status(504).send(resp);}else{cov_184uwy7ept.b[9][1]++;var stat=(cov_184uwy7ept.s[80]++,201);var statname=(cov_184uwy7ept.s[81]++,getErrorCodeStringWithStatCode(stat));cov_184uwy7ept.s[82]++;msg='File Name has been added to kafka: '+fileName;var countryCode=(cov_184uwy7ept.s[83]++,fileName.substring(0,3));cov_184uwy7ept.s[84]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,countryCode,fileName,stat,ipAdr,msg,constants.elastic[statname].longMsg,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);cov_184uwy7ept.s[85]++;res.status(stat).send(resp);}}else{cov_184uwy7ept.b[7][1]++;cov_184uwy7ept.s[86]++;res.status(statCode).send(resp);}}});});cov_184uwy7ept.s[87]++;req.on('error',function(err){cov_184uwy7ept.f[7]++;var message=(cov_184uwy7ept.s[88]++,'Error Uploading File '+fileName);var statuscode=(cov_184uwy7ept.s[89]++,500);var stat=(cov_184uwy7ept.s[90]++,getErrorCodeStringWithStatCode(statuscode));cov_184uwy7ept.s[91]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[stat].eventType,constants.elastic[stat].eventPriority,'',fileName,500,ipAdr,message,message,constants.elastic[stat].eventAction,constants.elastic[stat].jira.summary,constants.elastic[stat].jira.priority,constants.elastic[stat].jira.description,constants.elastic[stat].slack.url,constants.elastic[stat].slack.channel,constants.elastic[stat].slack.msg,client);cov_184uwy7ept.s[92]++;console.log(err.message);});};cov_184uwy7ept.s[93]++;exports.downloadFile=function(req,res,constants,client){cov_184uwy7ept.f[8]++;cov_184uwy7ept.s[94]++;console.log('download file function');var fileName=(cov_184uwy7ept.s[95]++,req.params.file);var src=(cov_184uwy7ept.s[96]++,req.query.src);var countryCode=(cov_184uwy7ept.s[97]++,fileName.substring(0,3));var country=(cov_184uwy7ept.s[98]++,fileName.substring(0,2));var validCountryCode=(cov_184uwy7ept.s[99]++,validateCountryCode(countryCode));var validSrc=(cov_184uwy7ept.s[100]++,validateSrcDest(src.toString().toUpperCase()));var ipAdr=(cov_184uwy7ept.s[101]++,req.connection.remoteAddress);var filePath=(cov_184uwy7ept.s[102]++,constants.zFam.host+country+constants.zFam.strSysDept+countryCode+constants.zFam.hostNoFolder+src.toString().toUpperCase()+'/'+fileName);cov_184uwy7ept.s[103]++;if((cov_184uwy7ept.b[11][0]++,validCountryCode)&&(cov_184uwy7ept.b[11][1]++,validSrc)){cov_184uwy7ept.b[10][0]++;cov_184uwy7ept.s[104]++;console.log('file path where downloading '+filePath);cov_184uwy7ept.s[105]++;if(constants.elastic.flag!=='false'){cov_184uwy7ept.b[12][0]++;var statname=(cov_184uwy7ept.s[106]++,'twozerozero');var msg=(cov_184uwy7ept.s[107]++,"In downloadFile function. Country Code is valid and file path is "+filePath);cov_184uwy7ept.s[108]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,countryCode,fileName,200,ipAdr,msg,msg,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);}else{cov_184uwy7ept.b[12][1]++;}cov_184uwy7ept.s[109]++;request({method:'GET',uri:filePath,headers:{'Content-Type':'text/xml','zFAM-LOB':'Yes','Cache-Control':'no-cache','Authorization':constants.zFam.auth}},function(error,response,body){cov_184uwy7ept.f[9]++;cov_184uwy7ept.s[110]++;console.log('error '+error);cov_184uwy7ept.s[111]++;console.log('response '+response);cov_184uwy7ept.s[112]++;console.log('body '+body);var stat=(cov_184uwy7ept.s[113]++,getStatusCode(error,response));var statname=(cov_184uwy7ept.s[114]++,getErrorCodeStringWithStatCode(stat));cov_184uwy7ept.s[115]++;if(error){cov_184uwy7ept.b[13][0]++;var msg=(cov_184uwy7ept.s[116]++,'Error getting '+fileName+' from zFam. '+err);cov_184uwy7ept.s[117]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,countryCode,fileName,stat,ipAdr,msg,msg,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);cov_184uwy7ept.s[118]++;res.status(stat).send(new errorCode.errorCustom(msg,stat,error));}else{cov_184uwy7ept.b[13][1]++;}cov_184uwy7ept.s[119]++;if(response.statusCode===204){cov_184uwy7ept.b[14][0]++;var msg=(cov_184uwy7ept.s[120]++,'File Doesnt  Exist');var statname=(cov_184uwy7ept.s[121]++,'fourzerofour');cov_184uwy7ept.s[122]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,countryCode,fileName,404,ipAdr,msg,msg,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);cov_184uwy7ept.s[123]++;res.status(404).send(new errorCode.errorNotFound(msg,404));}else{cov_184uwy7ept.b[14][1]++;}cov_184uwy7ept.s[124]++;if(response.statusCode===200){cov_184uwy7ept.b[15][0]++;cov_184uwy7ept.s[125]++;if(constants.elastic.flag!=='false'){cov_184uwy7ept.b[16][0]++;var msg=(cov_184uwy7ept.s[126]++,'200 response from get in downloadFile');var statname=(cov_184uwy7ept.s[127]++,'twozerozero');cov_184uwy7ept.s[128]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,countryCode,fileName,stat,ipAdr,msg,msg,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);}else{cov_184uwy7ept.b[16][1]++;}cov_184uwy7ept.s[129]++;res.status(stat).send(response.body);}else{cov_184uwy7ept.b[15][1]++;}});}else{cov_184uwy7ept.b[10][1]++;var msg=(cov_184uwy7ept.s[130]++,'Either country code: \''+countryCode+'\' or source \''+src+'\' is not valid.');var statname=(cov_184uwy7ept.s[131]++,'fourzerofour');cov_184uwy7ept.s[132]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,countryCode,fileName,404,ipAdr,msg,msg,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);cov_184uwy7ept.s[133]++;res.status(404).send(new errorCode.errorNotFound(msg,404));}};cov_184uwy7ept.s[134]++;exports.findParser=function(req,res,constants,client){cov_184uwy7ept.f[10]++;var fileName=(cov_184uwy7ept.s[135]++,req.params.file);var retryCount=(cov_184uwy7ept.s[136]++,req.query.retryCount);var countryCode=(cov_184uwy7ept.s[137]++,fileName.substring(0,3));var country=(cov_184uwy7ept.s[138]++,fileName.substring(0,2));var validCountryCode=(cov_184uwy7ept.s[139]++,validateCountryCode(countryCode));var ipAdr=(cov_184uwy7ept.s[140]++,req.connection.remoteAddress);cov_184uwy7ept.s[141]++;console.log('$%^&*())))))))----------------PARSER---------------234567898765432');cov_184uwy7ept.s[142]++;if(validCountryCode){cov_184uwy7ept.b[17][0]++;var endpoint=(cov_184uwy7ept.s[143]++,getCcmEndpoint(fileName,retryCount,constants));var zFamEndpoint=(cov_184uwy7ept.s[144]++,constants.zFam.host+country+constants.zFam.strSysDept+countryCode+constants.zFam.hostWithFolder+fileName);cov_184uwy7ept.s[145]++;console.log('zfam endpoint '+zFamEndpoint);cov_184uwy7ept.s[146]++;request({method:'POST',uri:endpoint,timeout:10000,headers:{'Content-Type':'text/xml'},body:zFamEndpoint},function(error,response,body){cov_184uwy7ept.f[11]++;var stat=(cov_184uwy7ept.s[147]++,getStatusCode(error,response));var statname=(cov_184uwy7ept.s[148]++,getErrorCodeStringWithStatCode(stat));cov_184uwy7ept.s[149]++;if(error){cov_184uwy7ept.b[18][0]++;var msg=(cov_184uwy7ept.s[150]++,'Error posting '+fileName+' to Parser WS endpoint: '+endpoint);cov_184uwy7ept.s[151]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,countryCode,fileName,stat,ipAdr,msg,msg,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);cov_184uwy7ept.s[152]++;console.log(msg);cov_184uwy7ept.s[153]++;res.status(stat).send(error);}else{cov_184uwy7ept.b[18][1]++;}cov_184uwy7ept.s[154]++;if(response){cov_184uwy7ept.b[19][0]++;cov_184uwy7ept.s[155]++;// console.log(response)
console.log('Post to Parser Response');cov_184uwy7ept.s[156]++;if(constants.elastic.flag!=='false'){cov_184uwy7ept.b[20][0]++;var msg=(cov_184uwy7ept.s[157]++,'success in post to parser for '+fileName);cov_184uwy7ept.s[158]++;console.log('Post to Parser Response stat '+stat);cov_184uwy7ept.s[159]++;console.log('Post to Parser Response statname '+statname);cov_184uwy7ept.s[160]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,countryCode,fileName,stat,ipAdr,constants.elastic[statname].shortMsg,constants.elastic[statname].longMsg,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);}else{cov_184uwy7ept.b[20][1]++;}// console.log('response-------------------');
// console.log(response);
cov_184uwy7ept.s[161]++;res.status(stat).send(response);}else{cov_184uwy7ept.b[19][1]++;}});}else{cov_184uwy7ept.b[17][1]++;var msg=(cov_184uwy7ept.s[162]++,'The file does not have a valid country code: '+countryCode);var statname=(cov_184uwy7ept.s[163]++,'fourzerofour');cov_184uwy7ept.s[164]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,countryCode,fileName,404,ipAdr,msg,msg,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);cov_184uwy7ept.s[165]++;console.log(msg);cov_184uwy7ept.s[166]++;res.status(404).send(new error.ServiceException(404,"the file name is null","This file is not acceptable!"));};};//////////////////////////////////////////////////////////////////////////////////////////////////////////
function getErrorCodeStringWithStatCode(stat){cov_184uwy7ept.f[12]++;cov_184uwy7ept.s[167]++;console.log('stat in method '+stat);cov_184uwy7ept.s[168]++;switch(stat){case 200:cov_184uwy7ept.b[21][0]++;cov_184uwy7ept.s[169]++;return'twozerozero';case 201:cov_184uwy7ept.b[21][1]++;cov_184uwy7ept.s[170]++;return'twozeroone';case 204:cov_184uwy7ept.b[21][2]++;cov_184uwy7ept.s[171]++;return'twozerofour';case 400:cov_184uwy7ept.b[21][3]++;cov_184uwy7ept.s[172]++;return'fourzerozero';case 401:cov_184uwy7ept.b[21][4]++;cov_184uwy7ept.s[173]++;return'fourzeroone';case 404:cov_184uwy7ept.b[21][5]++;cov_184uwy7ept.s[174]++;return'fourzerofour';case 409:cov_184uwy7ept.b[21][6]++;cov_184uwy7ept.s[175]++;return'fourzeronine';case 500:cov_184uwy7ept.b[21][7]++;cov_184uwy7ept.s[176]++;return'fivezerozero';case 502:cov_184uwy7ept.b[21][8]++;cov_184uwy7ept.s[177]++;return'fivezerotwo';case 503:cov_184uwy7ept.b[21][9]++;cov_184uwy7ept.s[178]++;return'fivezerothree';case 504:cov_184uwy7ept.b[21][10]++;cov_184uwy7ept.s[179]++;return'fivezerofour';case 509:cov_184uwy7ept.b[21][11]++;cov_184uwy7ept.s[180]++;return'fivezeronine';case 510:cov_184uwy7ept.b[21][12]++;cov_184uwy7ept.s[181]++;return'fiveonezero';default:cov_184uwy7ept.b[21][13]++;cov_184uwy7ept.s[182]++;return'fivezerozero';}}function callES(appName,appType,eventType,eventPriority,countryCode,fileName,eventCode,ipAdr,shortMsg,longMsg,eventAction,jiraSum,jiraPrio,jiraDesc,slackUrl,slackChan,slackMsg,client){cov_184uwy7ept.f[13]++;var date=(cov_184uwy7ept.s[183]++,new Date());cov_184uwy7ept.s[184]++;client.index({index:'events',type:'event',body:new errorCode.elasticSearch(appName,appType,eventType,eventPriority,countryCode,date,fileName,eventCode,ipAdr,shortMsg,longMsg,eventAction,jiraSum,jiraPrio,jiraDesc,slackUrl,slackChan,slackMsg)},function(err,resp,status){cov_184uwy7ept.f[14]++;cov_184uwy7ept.s[185]++;if(err){cov_184uwy7ept.b[22][0]++;cov_184uwy7ept.s[186]++;console.log(err);}else{cov_184uwy7ept.b[22][1]++;}});}function getStatusCode(error,response){cov_184uwy7ept.f[15]++;cov_184uwy7ept.s[187]++;console.log('error in get status code'+error);cov_184uwy7ept.s[188]++;if((cov_184uwy7ept.b[24][0]++,error==null)||(cov_184uwy7ept.b[24][1]++,error==='undefined')){cov_184uwy7ept.b[23][0]++;cov_184uwy7ept.s[189]++;return response.statusCode;}else{cov_184uwy7ept.b[23][1]++;}cov_184uwy7ept.s[190]++;if((cov_184uwy7ept.b[26][0]++,response==null)||(cov_184uwy7ept.b[26][1]++,response==='undefined')){cov_184uwy7ept.b[25][0]++;cov_184uwy7ept.s[191]++;console.log('if response is null or undefined');cov_184uwy7ept.s[192]++;if((cov_184uwy7ept.b[28][0]++,error.code==='ESOCKETTIMEDOUT')||(cov_184uwy7ept.b[28][1]++,error.code==='ETIMEDOUT')||(cov_184uwy7ept.b[28][2]++,error.code===-1)){cov_184uwy7ept.b[27][0]++;cov_184uwy7ept.s[193]++;return 504;}else{cov_184uwy7ept.b[27][1]++;cov_184uwy7ept.s[194]++;if(error.code==='ECONNREFUSED'){cov_184uwy7ept.b[29][0]++;cov_184uwy7ept.s[195]++;return 503;}else{cov_184uwy7ept.b[29][1]++;cov_184uwy7ept.s[196]++;if(error.code==='ECONNRESET'){cov_184uwy7ept.b[30][0]++;cov_184uwy7ept.s[197]++;return 509;}else{cov_184uwy7ept.b[30][1]++;cov_184uwy7ept.s[198]++;if(error.code==='EHOSTUNREACH'){cov_184uwy7ept.b[31][0]++;cov_184uwy7ept.s[199]++;return 510;}else{cov_184uwy7ept.b[31][1]++;cov_184uwy7ept.s[200]++;if(error.code==='EHOSTDOWN'){cov_184uwy7ept.b[32][0]++;cov_184uwy7ept.s[201]++;return 510;}else{cov_184uwy7ept.b[32][1]++;cov_184uwy7ept.s[202]++;return error.statusCode;}}}}}}else{cov_184uwy7ept.b[25][1]++;}}function validateCountryCode(countryCode){cov_184uwy7ept.f[16]++;cov_184uwy7ept.s[203]++;switch(countryCode){case'MX1':cov_184uwy7ept.b[33][0]++;cov_184uwy7ept.s[204]++;return true;case'CA1':cov_184uwy7ept.b[33][1]++;cov_184uwy7ept.s[205]++;return true;case'CN1':cov_184uwy7ept.b[33][2]++;cov_184uwy7ept.s[206]++;return true;case'JP1':cov_184uwy7ept.b[33][3]++;cov_184uwy7ept.s[207]++;return true;case'BR1':cov_184uwy7ept.b[33][4]++;cov_184uwy7ept.s[208]++;return true;case'CL1':cov_184uwy7ept.b[33][5]++;cov_184uwy7ept.s[209]++;return true;case'US1':cov_184uwy7ept.b[33][6]++;cov_184uwy7ept.s[210]++;return true;case'US2':cov_184uwy7ept.b[33][7]++;cov_184uwy7ept.s[211]++;return true;default:cov_184uwy7ept.b[33][8]++;cov_184uwy7ept.s[212]++;return false;}}function validateSrcDest(src){cov_184uwy7ept.f[17]++;cov_184uwy7ept.s[213]++;switch(src){case'PROCESSING':cov_184uwy7ept.b[34][0]++;cov_184uwy7ept.s[214]++;return true;case'DONE':cov_184uwy7ept.b[34][1]++;cov_184uwy7ept.s[215]++;return true;case'ERROR':cov_184uwy7ept.b[34][2]++;cov_184uwy7ept.s[216]++;return true;default:cov_184uwy7ept.b[34][3]++;cov_184uwy7ept.s[217]++;return false;}}function getCcmEndpoint(fileName,retryCount,constants){cov_184uwy7ept.f[18]++;var arr=(cov_184uwy7ept.s[218]++,fileName.split('_'));var keyVal=(cov_184uwy7ept.s[219]++,arr[0]+'_'+arr[1]);var endpoint=(cov_184uwy7ept.s[220]++,constants.parserEndpoints[keyVal]+fileName+'?retryCount='+retryCount);cov_184uwy7ept.s[221]++;console.log('the endpoint is ',endpoint);cov_184uwy7ept.s[222]++;return endpoint;}function postToZfam(xmlFile,fileName,ipAdr,client,constants,callback){cov_184uwy7ept.f[19]++;var countryCode=(cov_184uwy7ept.s[223]++,fileName.substring(0,3));var country=(cov_184uwy7ept.s[224]++,fileName.substring(0,2));var validCountryCode=(cov_184uwy7ept.s[225]++,validateCountryCode(countryCode));var filePath=(cov_184uwy7ept.s[226]++,constants.zFam.host+country+constants.zFam.strSysDept+countryCode+constants.zFam.hostWithFolder+fileName);// console.log('********************************************************');
// console.log(xmlFile);
// console.log('********************************************************');
cov_184uwy7ept.s[227]++;console.log('in post to zfam method '+filePath);cov_184uwy7ept.s[228]++;if(validCountryCode){cov_184uwy7ept.b[35][0]++;cov_184uwy7ept.s[229]++;request({method:'POST',uri:filePath,timeout:10000,headers:{'Content-Type':'text/xml','zFAM-LOB':'Yes','Cache-Control':'no-cache','Authorization':constants.zFam.auth},body:xmlFile},function(error,response,body){cov_184uwy7ept.f[20]++;var stat=(cov_184uwy7ept.s[230]++,getStatusCode(error,response));var statname=(cov_184uwy7ept.s[231]++,getErrorCodeStringWithStatCode(stat));cov_184uwy7ept.s[232]++;if(error){cov_184uwy7ept.b[36][0]++;cov_184uwy7ept.s[233]++;console.log('got an error '+error);var msg=(cov_184uwy7ept.s[234]++,'Error attempting to connect to zFam. '+error);cov_184uwy7ept.s[235]++;console.log('long Msg '+constants.elastic[statname].longMsg);cov_184uwy7ept.s[236]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,countryCode,fileName,stat,ipAdr,msg,constants.elastic[statname].longMsg,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);cov_184uwy7ept.s[237]++;callback(error,null);}else{cov_184uwy7ept.b[36][1]++;}cov_184uwy7ept.s[238]++;if(stat===409){cov_184uwy7ept.b[37][0]++;cov_184uwy7ept.s[239]++;console.log('in response  file already exists '+stat);var msg=(cov_184uwy7ept.s[240]++,'File already exists 409: '+fileName);cov_184uwy7ept.s[241]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic.fourzeronine.eventType,constants.elastic.fourzeronine.eventPriority,countryCode,fileName,409,ipAdr,msg,constants.elastic.fourzeronine.longMsg,constants.elastic.fourzeronine.eventAction,constants.elastic.fourzeronine.jira.summary,constants.elastic.fourzeronine.jira.priority,constants.elastic.fourzeronine.jira.description,constants.elastic.fourzeronine.slack.url,constants.elastic.fourzeronine.slack.channel,constants.elastic.fourzeronine.slack.msg,client);cov_184uwy7ept.s[242]++;callback(null,response);}else{cov_184uwy7ept.b[37][1]++;}cov_184uwy7ept.s[243]++;if(stat===400){cov_184uwy7ept.b[38][0]++;cov_184uwy7ept.s[244]++;console.log('400 code '+stat);var msg=(cov_184uwy7ept.s[245]++,'400: '+fileName);cov_184uwy7ept.s[246]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic.fourzeronine.eventType,constants.elastic.fourzeronine.eventPriority,countryCode,fileName,400,ipAdr,msg,constants.elastic.fourzeronine.longMsg,constants.elastic.fourzeronine.eventAction,constants.elastic.fourzeronine.jira.summary,constants.elastic.fourzeronine.jira.priority,constants.elastic.fourzeronine.jira.description,constants.elastic.fourzeronine.slack.url,constants.elastic.fourzeronine.slack.channel,constants.elastic.fourzeronine.slack.msg,client);cov_184uwy7ept.s[247]++;callback(null,response);}else{cov_184uwy7ept.b[38][1]++;}cov_184uwy7ept.s[248]++;if(stat===404){cov_184uwy7ept.b[39][0]++;cov_184uwy7ept.s[249]++;console.log('404 code '+stat);var msg=(cov_184uwy7ept.s[250]++,'404: '+fileName);cov_184uwy7ept.s[251]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic.fourzeronine.eventType,constants.elastic.fourzeronine.eventPriority,countryCode,fileName,404,ipAdr,msg,constants.elastic.fourzeronine.longMsg,constants.elastic.fourzeronine.eventAction,constants.elastic.fourzeronine.jira.summary,constants.elastic.fourzeronine.jira.priority,constants.elastic.fourzeronine.jira.description,constants.elastic.fourzeronine.slack.url,constants.elastic.fourzeronine.slack.channel,constants.elastic.fourzeronine.slack.msg,client);cov_184uwy7ept.s[252]++;callback(null,response);}else{cov_184uwy7ept.b[39][1]++;}cov_184uwy7ept.s[253]++;if(stat===401){cov_184uwy7ept.b[40][0]++;cov_184uwy7ept.s[254]++;console.log('in response  authentication error '+stat);var msg=(cov_184uwy7ept.s[255]++,'Authorization Error '+fileName);cov_184uwy7ept.s[256]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic.fourzeronine.eventType,constants.elastic.fourzeronine.eventPriority,countryCode,fileName,stat,ipAdr,msg,constants.elastic.fourzeronine.longMsg,constants.elastic.fourzeronine.eventAction,constants.elastic.fourzeronine.jira.summary,constants.elastic.fourzeronine.jira.priority,constants.elastic.fourzeronine.jira.description,constants.elastic.fourzeronine.slack.url,constants.elastic.fourzeronine.slack.channel,constants.elastic.fourzeronine.slack.msg,client);cov_184uwy7ept.s[257]++;callback(null,response);}else{cov_184uwy7ept.b[40][1]++;}cov_184uwy7ept.s[258]++;if(stat===200){cov_184uwy7ept.b[41][0]++;cov_184uwy7ept.s[259]++;console.log('about to send to kafka producer');cov_184uwy7ept.s[260]++;callKafka(fileName,countryCode,ipAdr,constants,client,function(errr,respo){cov_184uwy7ept.f[21]++;cov_184uwy7ept.s[261]++;if(errr){cov_184uwy7ept.b[42][0]++;cov_184uwy7ept.s[262]++;console.log('error from kafka from post to zfam');cov_184uwy7ept.s[263]++;callback(errr,null);}else{cov_184uwy7ept.b[42][1]++;cov_184uwy7ept.s[264]++;console.log('in post to zfam respo from kafka ');cov_184uwy7ept.s[265]++;callback(null,respo);}});}else{cov_184uwy7ept.b[41][1]++;}});}else{cov_184uwy7ept.b[35][1]++;var msg=(cov_184uwy7ept.s[266]++,'File Name: \''+fileName+'\' is not valid.');cov_184uwy7ept.s[267]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic.fourzerozero.eventType,constants.elastic.fourzerozero.eventPriority,countryCode,fileName,404,ipAdr,msg,constants.elastic.fourzerozero.longMsg,constants.elastic.fourzerozero.eventAction,constants.elastic.fourzerozero.jira.summary,constants.elastic.fourzerozero.jira.priority,constants.elastic.fourzerozero.jira.description,constants.elastic.fourzerozero.slack.url,constants.elastic.fourzerozero.slack.channel,constants.elastic.fourzerozero.slack.msg,client);cov_184uwy7ept.s[268]++;callback(new errorCode.errorNotFound(msg,404));}}function callKafka(fileName,countryCode,ipAdr,constants,client,callback){cov_184uwy7ept.f[22]++;cov_184uwy7ept.s[269]++;kafka.kafkaProducer(fileName,constants,function(err,pay){cov_184uwy7ept.f[23]++;var statNum=(cov_184uwy7ept.s[270]++,getStatusCode(err,pay));cov_184uwy7ept.s[271]++;console.log('back from kafka.js');cov_184uwy7ept.s[272]++;connectedToKafkaFlag=true;cov_184uwy7ept.s[273]++;if(err){cov_184uwy7ept.b[43][0]++;cov_184uwy7ept.s[274]++;console.log('error from kafka producer');var msg=(cov_184uwy7ept.s[275]++,'Error sending message to kafka Producer. ');var statname=(cov_184uwy7ept.s[276]++,getErrorCodeStringWithStatCode(statNum));cov_184uwy7ept.s[277]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic[statname].eventType,constants.elastic[statname].eventPriority,countryCode,fileName,statNum,ipAdr,msg,constants.elastic[statname].longMsg,constants.elastic[statname].eventAction,constants.elastic[statname].jira.summary,constants.elastic[statname].jira.priority,constants.elastic[statname].jira.description,constants.elastic[statname].slack.url,constants.elastic[statname].slack.channel,constants.elastic[statname].slack.msg,client);cov_184uwy7ept.s[278]++;callback(err,null);}else{cov_184uwy7ept.b[43][1]++;cov_184uwy7ept.s[279]++;if(constants.elastic.flag!=='false'){cov_184uwy7ept.b[44][0]++;cov_184uwy7ept.s[280]++;console.log('no error from kafka producer');var msg=(cov_184uwy7ept.s[281]++,"Message successfully sent to kafka Producer "+pay);cov_184uwy7ept.s[282]++;callES(constants.elastic.app.name,constants.elastic.app.type,constants.elastic.twozerozero.eventType,constants.elastic.twozerozero.eventPriority,countryCode,fileName,200,ipAdr,msg,constants.elastic.twozerozero.longMsg,constants.elastic.twozerozero.eventAction,constants.elastic.twozerozero.jira.summary,constants.elastic.twozerozero.jira.priority,constants.elastic.twozerozero.jira.description,constants.elastic.twozerozero.slack.url,constants.elastic.twozerozero.slack.channel,constants.elastic.twozerozero.slack.msg,client);}else{cov_184uwy7ept.b[44][1]++;}cov_184uwy7ept.s[283]++;callback(null,pay);}});}